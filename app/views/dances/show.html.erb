<main id='dance-show' class='dance-show'>
  <header>
    <ul class='user-bar'>
      <% if @dance.creator?(current_user) || @admin_user %>
        <li><%= link_to 'Delete', @dance, method: :delete, data: { confirm: 'Are you sure?' } %></li>
        <li><%= link_to 'Edit', edit_dance_path(@dance) %></li>
      <% end %>
      <li>Created by: <%= @dance.user.first_name %></li>
    </ul>

    <h2><%= @dance.title %></h2>
  </header>

  <section class='dance-info'>

    <div>
      <h3>Formation:</h3>
      <p><%= link_to @dance.formation.name, formation_path(@dance.formation) %></p>
    </div>

    <div>
      <h3>Meter:</h3>
      <p><%= link_to @dance.meter.name, meter_path(@dance.meter) %></p>
    </div>

    <% if @dance.author %>
      <div>
        <h3>Author</h3>
        <p><%= @dance.author %></p>
      </div>
    <% end %>

    <% if @dance.publication %>
      <div>
        <h3>Publication</h3>
        <p><%= @dance.publication %>
    <% end %>

    <% if @dance.year %>
        (<%= @dance.year %>)</p>
      </div>
    <% end %>
  </section>

  <section class='dance-directions'>
    <div>
      <h3>Direction</h3>
      <p><%= @dance.direction %></p>
  </section>

  <section id='comments' class='comments'>
    <header>
      <h3>Comments</h3>
      <%= link_to 'Create Comment', new_dance_dance_comment_path(@dance) %>
      <div id='dance-show-newcomment-form'>
        <%= render 'dance_comments/form', dance: @dance, dance_comment: @dance_comment %>
      </div>
    </header>

    <% if @dance.dance_comments %>
      <ul id='dance-comment-list' class='dance-comment-list'>
        <% @dance_comments.each do |dc| %>
          <li>
            <%= render 'dance_comments/dance_comment_box', dc: dc %>
          </li>
        <% end %>
      </ul>
    <% end %>
  </section>
</main>
